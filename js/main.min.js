document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".menu-btn"),t=document.querySelector(".menu");e.addEventListener("click",(()=>{e.classList.contains("menu-btn--active")?e.classList.remove("menu-btn--active"):e.classList.add("menu-btn--active"),t.classList.contains("menu--active")?t.classList.remove("menu--active"):t.classList.add("menu--active")}));const n=document.querySelector(".scroll-top");n.addEventListener("click",(e=>{e.preventDefault(),window.scrollBy({top:document.body.getBoundingClientRect().top,behavior:"smooth"})})),window.addEventListener("scroll",(()=>{window.pageYOffset>window.innerHeight?n.classList.add("scroll-top--active"):n.classList.remove("scroll-top--active")}));document.querySelectorAll(".products__to-fav").forEach((e=>{e.addEventListener("click",(()=>{let e=document.createElement("div");e.className="nots",e.textContent="Добавлено в избранное",document.body.append(e),setTimeout((()=>{e.remove()}),4e3)}))}));const c=document.querySelector(".form"),r=/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+[A-Z]{2,4}$/i,l=e=>{"email"==e.name&&(r.test(e.value)||""==e.value?e.nextElementSibling.textContent="":e.nextElementSibling.textContent="* Введите корректный Email!")};for(let e of c.elements)e.classList.contains("form__check")||"BUTTON"==e.tagName||e.addEventListener("blur",(()=>{l(e)}));c.addEventListener("submit",(e=>{e.preventDefault();for(let e of c.elements)e.classList.contains("form__check")||"BUTTON"==e.tagName||(""==e.value?e.nextElementSibling.textContent="* Заполните это поле!":l(e));c.reset()}));const i=document.querySelector(".products__items"),a=document.querySelector(".filter__by-price"),o=document.querySelector(".filter__by-age");for(let e=0;e<i.children.length;e++)i.children[e].setAttribute("data-price",i.children[e].querySelector(".products__price").textContent.replace(/\D/g,"")),i.children[e].setAttribute("data-age",i.children[e].querySelector(".prodcuts__age").textContent.replace(/\D/g,""));const d=(e,t)=>t.parentNode.insertBefore(e,t.nextElementSibling),s=e=>{for(let t=0;t<i.children.length;t++)for(let n=t;n<i.children.length;n++)if(+i.children[t].getAttribute(e)>+i.children[n].getAttribute(e)){let e=i.replaceChild(i.children[n],i.children[t]);d(e,i.children[t])}},u=e=>{for(let t=0;t<i.children.length;t++)for(let n=t;n<i.children.length;n++)if(+i.children[t].getAttribute(e)<+i.children[n].getAttribute(e)){let e=i.replaceChild(i.children[n],i.children[t]);d(e,i.children[t])}};a.addEventListener("input",(e=>{"inc"==e.target.value?s("data-price"):"dec"==e.target.value&&u("data-price")})),o.addEventListener("input",(e=>{"inc"==e.target.value?s("data-age"):"dec"==e.target.value&&u("data-age")}))}));